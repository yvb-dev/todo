<div class="wrapper ">

    <div
            class="sidebar"
            data-color="purple"
            data-step="1"
            data-intro="Фильтрация задач, добавление/удаление/редактирование категорий"
            data-position='right'
    >
        <app-categories
                (selectCategory)="onSelectCategory($event)"
                (deleteCategory)="onDeleteCategory($event)"
                (updateCategory)="onUpdateCategory($event)"
                (addCategory)="onAddCategory($event)"
                (searchCategory)="onSearchCategory($event)"
                [categoryMap]="categoryMap"
                [uncompletedTotal]="uncompletedTotalTasksCount"


                [selectedCategory]="selectedCategory"
                [categories]="categories">

        </app-categories>
    </div>

    <div class="main-panel">

        <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">

            <!--    навигация с шапкой и списком категорий-->

            <app-header
                    (toggleStat)="toggleStat($event)"
                    [categoryName]="selectedCategory ? selectedCategory.title: 'Все'"
                    [showStat]="showStat"

            ></app-header>

        </nav>

        <div class="content">
            <div class="container-fluid">

                <div
                        date-step="2"
                        data-position="top"
                        data-intro="Список всех задач со статистикой">
                    <!-- статистика -->
                    <app-stat
                            [completeTasksInCategory]="completedCountInCategory"
                            [showStat]="showStat"
                            [totalTasksInCategory]="totalTasksCountInCategory"
                            [uncompleteTasksInCategory]="uncompletedCountInCategory"
                    ></app-stat>
                </div>
                <div class="row">


                    <div class="col-12">

                        <app-tasks
                                (updateTask)="onUpdateTask($event)"
                                (deleteTask)="onDeleteTask($event)"
                                (selectCategory)="onSelectCategory($event)"
                                (addTask)="onAddTask($event)"


                                [selectedCategory]="selectedCategory"
                                (filterByTitle)="onSearchTasks($event)"
                                (filterByPriority)="onFilterTasksByPriority($event)"
                                (filterByStatus)="onFilterTasksByStatus($event)"

                                [tasks]="tasks"
                                [priorities]="priorities"


                        ></app-tasks>
                    </div>
                </div>
            </div>
        </div>


        <app-footer></app-footer>


    </div>
</div>
